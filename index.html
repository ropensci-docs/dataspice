<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content='The goal of dataspice is to make it easier for researchers to
  create basic, lightweight, and concise metadata files for their datasets.
  These basic files can then be used to make useful information available during
  analysis, create a helpful dataset "README" webpage, and produce more complex
  metadata formats to aid dataset discovery. Metadata fields are based on
  the Schema.org and Ecological Metadata Language standards.'>
<title>Create Lightweight Schema.org Descriptions of Data • dataspice</title>
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://docs.ropensci.org/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Create Lightweight Schema.org Descriptions of Data">
<meta property="og:description" content='The goal of dataspice is to make it easier for researchers to
  create basic, lightweight, and concise metadata files for their datasets.
  These basic files can then be used to make useful information available during
  analysis, create a helpful dataset "README" webpage, and produce more complex
  metadata formats to aid dataset discovery. Metadata fields are based on
  the Schema.org and Ecological Metadata Language standards.'>
<meta property="og:image" content="https://docs.ropensci.org/dataspice/logo.png">
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css">
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript>
<!-- End Matomo Code -->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="index.html">dataspice</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/overview.html">dataspice Overview</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropensci/dataspice/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="dataspice">dataspice<a class="anchor" aria-label="anchor" href="#dataspice"></a>
</h1>
</div>
<p><img src="https://www.r-pkg.org/badges/version/dataspice" alt="CRAN Version"><img src="https://github.com/ropensci/dataspice/workflows/R-CMD-check/badge.svg" alt="CI"><a href="https://codecov.io/gh/ropensci/dataspice?branch=main" class="external-link"><img src="https://codecov.io/gh/ropensci/dataspice/branch/main/graph/badge.svg" alt="Codecov test coverage"></a> <a href="https://github.com/ropensci/software-review/issues/426" class="external-link"><img src="https://badges.ropensci.org/426_status.svg"></a></p>
<p>The goal of <code>dataspice</code> is to make it easier for researchers to create basic, lightweight, and concise metadata files for their datasets by editing the kind of files they’re probably most familiar with: CSVs. To spice up their data with a dash of metadata. These metadata files can then be used to:</p>
<ul>
<li>Make useful information available during analysis.</li>
<li>Create a helpful dataset README webpage for your data similar to how <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> creates websites for R packages.</li>
<li>Produce more complex metadata formats for richer description of your datasets and to aid dataset discovery.</li>
</ul>
<p>Metadata fields are based on <a href="https://schema.org/Dataset" class="external-link">Schema.org/Dataset</a> and other <a href="#resources">metadata standards</a> and represent a lowest common denominator which means converting between formats should be relatively straightforward.</p>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>An basic example repository for demonstrating what using <code>dataspice</code> might look like can be found at <a href="https://github.com/amoeba/dataspice-example/" class="external-link">https://github.com/amoeba/dataspice-example</a>. From there, you can also check out a preview of the HTML <code>dataspice</code> generates at <a href="https://amoeba.github.io/dataspice-example/" class="external-link">https://amoeba.github.io/dataspice-example</a> and how Google sees it at <a href="https://search.google.com/test/rich-results?url=https%3A%2F%2Famoeba.github.io%2Fdataspice-example%2F" class="external-link uri">https://search.google.com/test/rich-results?url=https%3A%2F%2Famoeba.github.io%2Fdataspice-example%2F</a>.</p>
<p>A much more detailed example has been created by <a href="https://annakrystalli.me" class="external-link">Anna Krystalli</a> at <a href="https://annakrystalli.me/dataspice-tutorial/" class="external-link uri">https://annakrystalli.me/dataspice-tutorial/</a> (<a href="https://github.com/annakrystalli/dataspice-tutorial" class="external-link">GitHub repo</a>).</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the latest version from <a href="https://cran.r-project.org" class="external-link">CRAN</a>:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"dataspice"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="workflow">Workflow<a class="anchor" aria-label="anchor" href="#workflow"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/create_spice.html">create_spice</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co"># Then fill in template CSV files, more on this below</span></span>
<span><span class="fu"><a href="reference/write_spice.html">write_spice</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/build_site.html">build_site</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># Optional</span></span></code></pre></div>
<div class="figure">
<img src="reference/figures/dataspice_workflow.png" alt=""><p class="caption">diagram showing a workflow for using dataspice</p>
</div>
<div class="section level3">
<h3 id="create-spice">Create spice<a class="anchor" aria-label="anchor" href="#create-spice"></a>
</h3>
<p><code><a href="reference/create_spice.html">create_spice()</a></code> creates template metadata spreadsheets in a folder (by default created in the <code>data</code> folder in the current working directory).</p>
<p>The template files are:</p>
<ul>
<li>
<strong>biblio.csv</strong> - for title, abstract, spatial and temporal coverage, etc.</li>
<li>
<strong>creators.csv</strong> - for data authors</li>
<li>
<strong>attributes.csv</strong> - explains each of the variables in the dataset</li>
<li>
<strong>access.csv</strong> - for files, file types, and download URLs (if appropriate)</li>
</ul>
</div>
<div class="section level3">
<h3 id="fill-in-templates">Fill in templates<a class="anchor" aria-label="anchor" href="#fill-in-templates"></a>
</h3>
<p>The user needs to fill in the details of the four template files. These csv files can be directly modified, or they can be edited using either the associated helper function and/or <a href="https://shiny.rstudio.com/" class="external-link">Shiny</a> app.</p>
<div class="section level4">
<h4 id="helper-functions">Helper functions<a class="anchor" aria-label="anchor" href="#helper-functions"></a>
</h4>
<ul>
<li><p><code><a href="reference/prep_attributes.html">prep_attributes()</a></code> populates the <strong><code>fileName</code></strong> and <strong><code>variableName</code></strong> columns of the <code>attributes.csv</code> file using the header row of the data files.</p></li>
<li><p><code><a href="reference/prep_access.html">prep_access()</a></code> populates the <strong><code>fileName</code></strong>, <strong><code>name</code></strong> and <strong><code>encodingFormat</code></strong> columns of the <code>access.csv</code> file from the files in the folder containing the data.</p></li>
</ul>
<p>To see an example of how <code><a href="reference/prep_attributes.html">prep_attributes()</a></code> works, load the data files that ship with the package:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data_files</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"example-dataset/"</span>, package <span class="op">=</span> <span class="st">"dataspice"</span><span class="op">)</span>,</span>
<span>  pattern <span class="op">=</span> <span class="st">".csv"</span>,</span>
<span>  full.names <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>This function assumes that the metadata templates are in a folder called <code>metadata</code> within a <code>data</code> folder.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">attributes_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"metadata"</span>, <span class="st">"attributes.csv"</span><span class="op">)</span></span></code></pre></div>
<p>Using <code><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">purrr::map()</a></code>, this function can be applied over multiple files to populate the header names</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data_files</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map</a></span><span class="op">(</span><span class="op">~</span> <span class="fu"><a href="reference/prep_attributes.html">prep_attributes</a></span><span class="op">(</span><span class="va">.x</span>, <span class="va">attributes_path</span><span class="op">)</span>,</span>
<span>    attributes_path <span class="op">=</span> <span class="va">attributes_path</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p>The output of <code><a href="reference/prep_attributes.html">prep_attributes()</a></code> has the first two columns filled out:</p>
<table class="table">
<thead><tr>
<th style="text-align:left;">fileName</th>
<th style="text-align:left;">variableName</th>
<th style="text-align:left;">description</th>
<th style="text-align:left;">unitText</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">BroodTables.csv</td>
<td style="text-align:left;">Stock.ID</td>
<td style="text-align:left;">NA</td>
<td style="text-align:left;">NA</td>
</tr>
<tr>
<td style="text-align:left;">BroodTables.csv</td>
<td style="text-align:left;">Species</td>
<td style="text-align:left;">NA</td>
<td style="text-align:left;">NA</td>
</tr>
<tr>
<td style="text-align:left;">BroodTables.csv</td>
<td style="text-align:left;">Stock</td>
<td style="text-align:left;">NA</td>
<td style="text-align:left;">NA</td>
</tr>
<tr>
<td style="text-align:left;">BroodTables.csv</td>
<td style="text-align:left;">Ocean.Region</td>
<td style="text-align:left;">NA</td>
<td style="text-align:left;">NA</td>
</tr>
<tr>
<td style="text-align:left;">BroodTables.csv</td>
<td style="text-align:left;">Region</td>
<td style="text-align:left;">NA</td>
<td style="text-align:left;">NA</td>
</tr>
<tr>
<td style="text-align:left;">BroodTables.csv</td>
<td style="text-align:left;">Sub.Region</td>
<td style="text-align:left;">NA</td>
<td style="text-align:left;">NA</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="shiny-helper-apps">Shiny helper apps<a class="anchor" aria-label="anchor" href="#shiny-helper-apps"></a>
</h4>
<p>Each of the metadata templates can be edited interactively using a <a href="https://shiny.rstudio.com/" class="external-link">Shiny</a> app:</p>
<ul>
<li>
<code><a href="reference/edit_attributes.html">edit_attributes()</a></code> opens a Shiny app that can be used to edit <code>attributes.csv</code>. The Shiny app displays the current <code>attributes</code> table and lets the user fill in an informative description and units (e.g. meters, hectares, etc.) for each variable.</li>
<li>
<code><a href="reference/edit_access.html">edit_access()</a></code> opens an editable version of <code>access.csv</code>
</li>
<li>
<code><a href="reference/edit_creators.html">edit_creators()</a></code> opens an editable version of <code>creators.csv</code>
</li>
<li>
<code><a href="reference/edit_biblio.html">edit_biblio()</a></code> opens an editable version of <code>biblio.csv</code>
</li>
</ul>
<div class="figure">
<img src="reference/figures/edit_attributes.png" alt=""><p class="caption">edit_attributes Shiny app</p>
</div>
<p>Remember to click on <strong>Save</strong> when finished editing.</p>
</div>
<div class="section level4">
<h4 id="completed-metadata-files">Completed metadata files<a class="anchor" aria-label="anchor" href="#completed-metadata-files"></a>
</h4>
<p>The first few rows of the completed metadata tables in this example will look like this:</p>
<p><code>access.csv</code> has one row for each file</p>
<table class="table">
<thead><tr class="header">
<th align="left">fileName</th>
<th align="left">name</th>
<th align="left">contentUrl</th>
<th align="left">encodingFormat</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">StockInfo.csv</td>
<td align="left">StockInfo.csv</td>
<td align="left">NA</td>
<td align="left">CSV</td>
</tr>
<tr class="even">
<td align="left">BroodTables.csv</td>
<td align="left">BroodTables.csv</td>
<td align="left">NA</td>
<td align="left">CSV</td>
</tr>
<tr class="odd">
<td align="left">SourceInfo.csv</td>
<td align="left">SourceInfo.csv</td>
<td align="left">NA</td>
<td align="left">CSV</td>
</tr>
</tbody>
</table>
<p><code>attributes.csv</code> has one row for each variable in each file</p>
<table class="table">
<thead><tr class="header">
<th align="left">fileName</th>
<th align="left">variableName</th>
<th align="left">description</th>
<th align="left">unitText</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">BroodTables.csv</td>
<td align="left">Stock.ID</td>
<td align="left">Unique stock identifier</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">BroodTables.csv</td>
<td align="left">Species</td>
<td align="left">species of stock</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">BroodTables.csv</td>
<td align="left">Stock</td>
<td align="left">Stock name, generally river where stock is found</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">BroodTables.csv</td>
<td align="left">Ocean.Region</td>
<td align="left">Ocean region</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">BroodTables.csv</td>
<td align="left">Region</td>
<td align="left">Region of stock</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">BroodTables.csv</td>
<td align="left">Sub.Region</td>
<td align="left">Sub.Region of stock</td>
<td align="left">NA</td>
</tr>
</tbody>
</table>
<p><code>biblio.csv</code> is one row containing descriptors including spatial and temporal coverage</p>
<table style="width:100%;" class="table">
<colgroup>
<col width="14%">
<col width="40%">
<col width="4%">
<col width="2%">
<col width="5%">
<col width="1%">
<col width="1%">
<col width="4%">
<col width="3%">
<col width="3%">
<col width="3%">
<col width="3%">
<col width="2%">
<col width="4%">
<col width="4%">
</colgroup>
<thead><tr class="header">
<th align="left">title</th>
<th align="left">description</th>
<th align="left">datePublished</th>
<th align="left">citation</th>
<th align="left">keywords</th>
<th align="left">license</th>
<th align="left">funder</th>
<th align="left">geographicDescription</th>
<th align="right">northBoundCoord</th>
<th align="right">eastBoundCoord</th>
<th align="right">southBoundCoord</th>
<th align="right">westBoundCoord</th>
<th align="left">wktString</th>
<th align="left">startDate</th>
<th align="left">endDate</th>
</tr></thead>
<tbody><tr class="odd">
<td align="left">Compiled annual statewide Alaskan salmon escapement counts, 1921-2017</td>
<td align="left">The number of mature salmon migrating from the marine environment to freshwater streams is defined as escapement. Escapement data are the enumeration of these migrating fish as they pass upstream, …</td>
<td align="left">2018-02-12 08:00:00</td>
<td align="left">NA</td>
<td align="left">salmon, alaska, escapement</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">78</td>
<td align="right">-131</td>
<td align="right">47</td>
<td align="right">-171</td>
<td align="left">NA</td>
<td align="left">1921-01-01 08:00:00</td>
<td align="left">2017-01-01 08:00:00</td>
</tr></tbody>
</table>
<p><code>creators.csv</code> has one row for each of the dataset authors</p>
<table class="table">
<colgroup>
<col width="4%">
<col width="15%">
<col width="52%">
<col width="26%">
</colgroup>
<thead><tr class="header">
<th align="left">id</th>
<th align="left">name</th>
<th align="left">affiliation</th>
<th align="left">email</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">NA</td>
<td align="left">Jeanette Clark</td>
<td align="left">National Center for Ecological Analysis and Synthesis</td>
<td align="left"><a href="mailto:jclark@nceas.ucsb.edu" class="email">jclark@nceas.ucsb.edu</a></td>
</tr>
<tr class="even">
<td align="left">NA</td>
<td align="left">Rich,Brenner</td>
<td align="left">Alaska Department of Fish and Game</td>
<td align="left">richard.brenner.alaska.gov</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level3">
<h3 id="save-json-ld-file">Save JSON-LD file<a class="anchor" aria-label="anchor" href="#save-json-ld-file"></a>
</h3>
<p><code><a href="reference/write_spice.html">write_spice()</a></code> generates a json-ld file (“linked data”) to aid in <a href="https://developers.google.com/search/docs/data-types/dataset" class="external-link">dataset discovery</a>, creation of more extensive metadata (e.g. <a href="https://eml.ecoinformatics.org" class="external-link">EML</a>), and creating a website.</p>
<p>Here’s a view of the <code>dataspice.json</code> file of the example data:</p>
<div class="figure">
<img src="reference/figures/listviewer.png" alt=""><p class="caption">listviewer pack output showing an example dataspice JSON file</p>
</div>
</div>
<div class="section level3">
<h3 id="build-website">Build website<a class="anchor" aria-label="anchor" href="#build-website"></a>
</h3>
<ul><li>
<code><a href="reference/build_site.html">build_site()</a></code> creates a bare-bones <code>index.html</code> file in the repository <code>docs</code> folder with a simple view of the dataset with the metadata and an interactive map. For example, this <a href="https://github.com/amoeba/dataspice-example/" class="external-link">repository</a> results in this <a href="https://amoeba.github.io/dataspice-example/" class="external-link">website</a>
</li></ul>
<div class="figure">
<img src="reference/figures/website_example.png" alt=""><p class="caption">dataspice-website</p>
</div>
</div>
<div class="section level3">
<h3 id="convert-to-eml">Convert to EML<a class="anchor" aria-label="anchor" href="#convert-to-eml"></a>
</h3>
<p>The metadata fields <code>dataspice</code> uses are based largely on their compatibility with terms from <a href="https://schema.org" class="external-link">Schema.org</a>. However, <code>dataspice</code> metadata can be converted to Ecological Metadata Language (EML), a much richer schema. The conversion isn’t perfect but <code>dataspice</code> will do its best to convert your <code>dataspice</code> metadata to EML:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/dataspice">dataspice</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Load an example dataspice JSON that comes installed with the package</span></span>
<span><span class="va">spice</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span></span>
<span>  <span class="st">"examples"</span>, <span class="st">"annual-escapement.json"</span>,</span>
<span>  package <span class="op">=</span> <span class="st">"dataspice"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Convert it to EML</span></span>
<span><span class="va">eml_doc</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/spice_to_eml.html">spice_to_eml</a></span><span class="op">(</span><span class="va">spice</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: variableMeasured not crosswalked to EML because we don't have enough</span></span>
<span><span class="co">#&gt; information. Use `crosswalk_variables` to create the start of an EML attributes</span></span>
<span><span class="co">#&gt; table. See ?crosswalk_variables for help.</span></span>
<span><span class="co">#&gt; You might want to run EML::eml_validate on the result at this point and fix what validations errors are produced. You will commonly need to set `packageId`, `system`, and provide `attributeList` elements for each `dataTable`.</span></span></code></pre></div>
<p>You may receive warnings depending on which <code>dataspice</code> fields you filled in and this process will very likely produce an invalid EML record which is totally fine:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/EML/" class="external-link">EML</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'EML'</span></span>
<span><span class="co">#&gt; The following object is masked from 'package:magrittr':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     set_attributes</span></span>
<span></span>
<span><span class="fu"><a href="https://docs.ropensci.org/emld/reference/eml_validate.html" class="external-link">eml_validate</a></span><span class="op">(</span><span class="va">eml_doc</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] FALSE</span></span>
<span><span class="co">#&gt; attr(,"errors")</span></span>
<span><span class="co">#&gt; [1] "Element '{https://eml.ecoinformatics.org/eml-2.2.0}eml': The attribute 'packageId' is required but missing."                                  </span></span>
<span><span class="co">#&gt; [2] "Element '{https://eml.ecoinformatics.org/eml-2.2.0}eml': The attribute 'system' is required but missing."                                     </span></span>
<span><span class="co">#&gt; [3] "Element 'dataTable': Missing child element(s). Expected is one of ( physical, coverage, methods, additionalInfo, annotation, attributeList )."</span></span>
<span><span class="co">#&gt; [4] "Element 'dataTable': Missing child element(s). Expected is one of ( physical, coverage, methods, additionalInfo, annotation, attributeList )."</span></span>
<span><span class="co">#&gt; [5] "Element 'dataTable': Missing child element(s). Expected is one of ( physical, coverage, methods, additionalInfo, annotation, attributeList )."</span></span></code></pre></div>
<p>This is because some fields in <code>dataspice</code> store information in different structures and because EML requires many fields that <code>dataspice</code> doesn’t have fields for. At this point, you should look over the validation errors produced by <code><a href="https://docs.ropensci.org/emld/reference/eml_validate.html" class="external-link">EML::eml_validate</a></code> and fix those. Note that this will likely require familiarity with the <a href="https://eml.ecoinformatics.org/" class="external-link">EML Schema</a> and the <a href="https://github.com/ropensci/eml" class="external-link">EML package</a>.</p>
<p>Once you’re done, you can write out an EML XML file:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://docs.ropensci.org/EML/reference/write_eml.html" class="external-link">write_eml</a></span><span class="op">(</span><span class="va">eml_doc</span>, <span class="va">out_path</span><span class="op">)</span></span>
<span><span class="co">#&gt; NULL</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="convert-from-eml">Convert from EML<a class="anchor" aria-label="anchor" href="#convert-from-eml"></a>
</h3>
<p>Like converting <code>dataspice</code> to EML, we can convert an existing EML record to a set of <code>dataspice</code> metadata tables which we can then work from within <code>dataspice</code>:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/EML/" class="external-link">EML</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">eml_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"example-dataset/broodTable_metadata.xml"</span>, package <span class="op">=</span> <span class="st">"dataspice"</span><span class="op">)</span></span>
<span><span class="va">eml</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://docs.ropensci.org/EML/reference/read_eml.html" class="external-link">read_eml</a></span><span class="op">(</span><span class="va">eml_path</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Creates four CSVs files in the `data/metadata` directory</span></span>
<span><span class="va">my_spice</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/eml_to_spice.html">eml_to_spice</a></span><span class="op">(</span><span class="va">eml</span>, <span class="st">"data/metadata"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="resources">Resources<a class="anchor" aria-label="anchor" href="#resources"></a>
</h2>
<p>A few existing tools &amp; data standards to help users in specific domains:</p>
<ul>
<li><a href="http://rs.tdwg.org/dwc/" class="external-link">Darwin Core</a></li>
<li>
<a href="https://knb.ecoinformatics.org/#external//emlparser/docs/index.html" class="external-link">Ecological Metadata Language</a> (EML) (&amp; <a href="https://github.com/ropensci/EML" class="external-link"><code>EML</code></a>)</li>
<li>
<a href="https://www.iso.org/standard/53798.html" class="external-link">ISO 19115</a> - Geographic Information Metadata</li>
<li>
<a href="https://www.iso.org/standard/32557.html" class="external-link">ISO 19139</a> - Geographic Info Metadata XML schema</li>
<li>
<a href="https://fairsharing.org/collection/MIBBI" class="external-link">Minimum Information for Biological and Biomedical Investigations</a> (MIBBI)</li>
</ul>
<p>…And others indexed in <a href="https://fairsharing.org" class="external-link">Fairsharing.org</a> &amp; the <a href="http://rd-alliance.github.io/metadata-directory/standards/" class="external-link">RDA metadata directory</a>.</p>
</div>
<div class="section level2">
<h2 id="code-of-conduct">Code of Conduct<a class="anchor" aria-label="anchor" href="#code-of-conduct"></a>
</h2>
<p>Please note that this package is released with a <a href="https://ropensci.org/code-of-conduct/" class="external-link">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
<div class="section level2">
<h2 id="contributors">Contributors<a class="anchor" aria-label="anchor" href="#contributors"></a>
</h2>
<p>This package was developed at rOpenSci’s 2018 unconf by (in alphabetical order):</p>
<ul>
<li><a href="https://github.com/cboettig" class="external-link">Carl Boettiger</a></li>
<li><a href="https://github.com/sckott" class="external-link">Scott Chamberlain</a></li>
<li><a href="https://github.com/aurielfournier" class="external-link">Auriel Fournier</a></li>
<li><a href="https://github.com/khondula" class="external-link">Kelly Hondula</a></li>
<li><a href="https://github.com/annakrystalli" class="external-link">Anna Krystalli</a></li>
<li><a href="https://github.com/amoeba" class="external-link">Bryce Mecum</a></li>
<li><a href="https://github.com/maelle" class="external-link">Maëlle Salmon</a></li>
<li><a href="https://github.com/magpiedin" class="external-link">Kate Webbink</a></li>
<li><a href="https://github.com/karawoo" class="external-link">Kara Woo</a></li>
<li><a href="https://github.com/isteves" class="external-link">Irene Steves</a></li>
</ul>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=dataspice" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/ropensci/dataspice/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/ropensci/dataspice/issues" class="external-link">Report a bug</a></li>
</ul>
</div>



<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing dataspice</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Carl Boettiger <br><small class="roles"> Author </small>  </li>
<li>
<a href="https://scottchamberlain.info/" class="external-link">Scott Chamberlain</a> <br><small class="roles"> Author </small>  </li>
<li>Auriel Fournier <br><small class="roles"> Author </small>  </li>
<li>Kelly Hondula <br><small class="roles"> Author </small>  </li>
<li>Anna Krystalli <br><small class="roles"> Author </small>  </li>
<li>Bryce Mecum <br><small class="roles"> Author, maintainer </small>  </li>
<li>
<a href="https://masalmon.eu" class="external-link">Maëlle Salmon</a> <br><small class="roles"> Author </small>  </li>
<li>Kate Webbink <br><small class="roles"> Author </small>  </li>
<li>Kara Woo <br><small class="roles"> Author </small>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="r-universe">
<h2 data-toc-skip>R-universe</h2>
<ul class="list-unstyled">
<li><p><a href="https://ropensci.r-universe.dev/dataspice" class="external-link"><img src="https://ropensci.r-universe.dev/badges/dataspice" alt="dataspice status badge"></a></p></li>
</ul>
</div>

<div class="software-peer-review">
<h2 data-toc-skip>Software Peer-Review</h2>
<ul class="list-unstyled">
<li><p><a href="https://github.com/ropensci/software-review/issues/426" class="external-link"><img src="https://badges.ropensci.org/426_status.svg" alt="rOpenSci peer-review"></a></p></li>
</ul>
</div>

  </aside>
</div>


    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg">
</div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul>
</div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
<h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul>
</div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul>
</div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer>
</div>

  

  

  </body>
</html>
